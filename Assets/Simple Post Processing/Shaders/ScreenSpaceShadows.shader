//{"Values":["0","PPU/ScreenSpaceShadows","_MainTex","0",""]}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"FloatSlider","selected":false,"Values":["Intensity","Effect intenisty","0","0","1"],"unique":-1}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"IntSlider","selected":false,"Values":["Power","Effect power","2","2","16"],"unique":2685}|{"tempTextures":2,"passes":[{"position":{"serializedVersion":"2","x":0.0,"y":36.0,"width":212.0,"height":16.0},"Input":0,"Output":1,"Pass":0,"Iterations":1,"Variable":0},{"position":{"serializedVersion":"2","x":0.0,"y":72.0,"width":212.0,"height":16.0},"Input":1,"Output":2,"Pass":1,"Iterations":1,"Variable":0},{"position":{"serializedVersion":"2","x":0.0,"y":108.0,"width":212.0,"height":16.0},"Input":0,"Output":0,"Pass":2,"Iterations":1,"Variable":0}],"passOptions":["0","1","2"],"inputOptions":["Game","tempRT0","tempRT1"],"outputOptions":["Screen","tempRT0","tempRT1"],"variableOptions":["None","Power"]}
//\	CameraOutput\	2038.511\	-52.366\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			12\			0\	StereoUV\	299.3995\	238.1005\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	SpecialTex\	683.6435\	62.2314\	96\	210\		/_CameraGBufferTexture2\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			1\			2\	Lerp\	1054.061\	0.6179962\	96\	110\		False\			null\			null\		True\			4\			0\		True\			2\			0\		True\			1\			0\	Value1\	664.4775\	330.42\	96\	50\		/1.0\		False\			null\			null\	Lerp\	1006.7\	169.3285\	96\	110\		False\			null\			null\		True\			2\			1\		True\			4\			0\		True\			1\			1\	Add\	1251.105\	59.84435\	96\	130\		/5\		False\			null\			null\		True\			3\			0\		True\			5\			0\		True\			9\			0\		False\			null\			null\	Div\	1409.855\	166.0944\	96\	110\		/4\		False\			null\			null\		True\			6\			0\		True\			8\			0\		False\			null\			null\	Value1\	1216.105\	277.3445\	96\	50\		/3.0\		False\			null\			null\	Lerp\	1030.312\	340.9755\	96\	110\		False\			null\			null\		True\			2\			2\		True\			4\			0\		True\			1\			0\	Pow\	1653.513\	151.7212\	96\	90\		False\			null\			null\		True\			7\			0\		True\			11\			0\	Value1\	1496.474\	302.4385\	96\	50\		/10.0\		False\			null\			null\	Mul\	1884.299\	80.2678\	96\	110\		/4\		False\			null\			null\		True\			10\			0\		True\			13\			0\		False\			null\			null\	Value1\	1712.87\	287.4105\	96\	50\		/5.0\		False\			null\			null
//\	CameraOutput\	1186.775\	152.8976\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			4\			0\	StereoUV\	288.541\	143.2946\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	CameraInput\	524.349\	139.2502\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			1\			2\	Value1\	524.1266\	334.6393\	96\	50\		/1.0\		False\			null\			null\	Lerp\	1005.401\	326.7124\	96\	110\		False\			null\			null\		True\			2\			3\		True\			3\			0\		True\			5\			0\	Add\	831.23\	413.369\	96\	110\		/4\		False\			null\			null\		True\			7\			0\		True\			6\			0\		False\			null\			null\	Value1\	660.008\	584.8135\	96\	50\		/0.25\		False\			null\			null\	Pow\	854.1585\	137.6707\	96\	90\		False\			null\			null\		True\			2\			0\		True\			8\			0\	_IntSlider\	402.7145\	469.2857\	96\	50\		/Power\		/1\		/2685\		False\			null\			null
//\	CameraOutput\	1207.495\	168.1824\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			5\			0\	CameraInput\	655.829\	99.51577\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			2\			2\	StereoUV\	402.496\	118.4046\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	TempTex\	653.7185\	295.2937\	96\	190\		/tempRT1\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			2\			2\	Mul\	990.472\	32.91262\	96\	110\		/4\		False\			null\			null\		True\			1\			3\		True\			7\			0\		False\			null\			null\	Lerp\	1129.032\	365.3415\	96\	110\		False\			null\			null\		True\			1\			3\		True\			4\			0\		True\			9\			0\	_FloatSlider\	795.4245\	650.234\	96\	50\		/Intensity\		/1\		/-1\		False\			null\			null\	Pow\	890.4605\	259.5674\	96\	90\		False\			null\			null\		True\			3\			3\		True\			8\			0\	Value1\	657.9605\	544.3174\	96\	50\		/2.0\		False\			null\			null\	Av\	1052.393\	578.3215\	96\	110\		/4\		False\			null\			null\		True\			10\			0\		True\			6\			0\		False\			null\			null\	Sub\	916.143\	458.8572\	96\	110\		/4\		False\			null\			null\		True\			11\			0\		True\			1\			0\		False\			null\			null\	Value1\	431.857\	516\	96\	50\		/1.0\		False\			null\			null

Shader "PPU/ScreenSpaceShadows" {

	HLSLINCLUDE

			#include "Packages/com.unity.postprocessing/PostProcessing/Shaders/StdLib.hlsl"

			TEXTURE2D_SAMPLER2D(_MainTex, sampler_MainTex);
			uniform half _Intensity;
			uniform half _Power;
			TEXTURE2D_SAMPLER2D(_CameraGBufferTexture2, sampler_CameraGBufferTexture2);
			TEXTURE2D_SAMPLER2D(_tempRT1, sampler_tempRT1);

			half3 Frag0 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = (pow(((lerp(1.0, SAMPLE_TEXTURE2D(_CameraGBufferTexture2, sampler_CameraGBufferTexture2, i.texcoordStereo).x, i.texcoordStereo.x) + lerp(SAMPLE_TEXTURE2D(_CameraGBufferTexture2, sampler_CameraGBufferTexture2, i.texcoordStereo).y, 1.0, i.texcoordStereo.y) + lerp(SAMPLE_TEXTURE2D(_CameraGBufferTexture2, sampler_CameraGBufferTexture2, i.texcoordStereo).z, 1.0, i.texcoordStereo.x)) / 3.0), 10.0) * 5.0);
				return CameraOutput;
			}

			half3 Frag1 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = lerp(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz, 1.0, (pow(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).x, _Power) + 0.25));
				return CameraOutput;
			}

			half3 Frag2 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = lerp(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz, (SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz * pow(SAMPLE_TEXTURE2D(_tempRT1, sampler_tempRT1, i.texcoordStereo), 2.0)), (((1.0 - SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).x) + _Intensity) / 2.0));
				return CameraOutput;
			}

	ENDHLSL

	SubShader {

		Cull Off ZWrite Off ZTest Always

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag0

			ENDHLSL
		}

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag1

			ENDHLSL
		}

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag2

			ENDHLSL
		}
	}
}