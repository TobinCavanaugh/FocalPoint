//{"Values":["0","PPU/HorizontalBloom","_MainTex","0",""]}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"FloatSlider","selected":false,"Values":["Intensity","Effect intensity","0.5","0","1"],"unique":1037}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"FloatSlider","selected":false,"Values":["Threshold","Minimum luminosity","0.9","0","1"],"unique":-1}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"IntSlider","selected":false,"Values":["Quality","Number of blur iterations","1","1","3"],"unique":1564}|{"tempTextures":2,"passes":[{"position":{"serializedVersion":"2","x":0.0,"y":36.0,"width":212.0,"height":16.0},"Input":0,"Output":1,"Pass":0,"Iterations":1,"Variable":0},{"position":{"serializedVersion":"2","x":0.0,"y":72.0,"width":212.0,"height":16.0},"Input":1,"Output":2,"Pass":1,"Iterations":1,"Variable":1},{"position":{"serializedVersion":"2","x":0.0,"y":108.0,"width":212.0,"height":16.0},"Input":0,"Output":0,"Pass":2,"Iterations":1,"Variable":0}],"passOptions":["0","1","2"],"inputOptions":["Game","tempRT0","tempRT1"],"outputOptions":["Screen","tempRT0","tempRT1"],"variableOptions":["None","Quality"]}
//\	CameraOutput\	1152.665\	89.41656\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			4\			0\	CameraInput\	527.1111\	91.63879\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			2\			2\	StereoUV\	327.1109\	91.63879\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Av\	767.3322\	248.7499\	96\	130\		/5\		False\			null\			null\		True\			1\			0\		True\			1\			1\		True\			1\			2\		False\			null\			null\	Compare\	983.9985\	273.1943\	96\	230\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			3\			0\		True\			5\			0\		True\			1\			3\		False\			null\			null\	_FloatSlider\	727.3322\	414.3055\	96\	50\		/Threshold\		/2\		/-1\		False\			null\			null
//\	CameraOutput\	2004.648\	-733.8906\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			3\			0\	CameraInput\	1399.647\	-748.5933\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			4\			0\	StereoUV\	369.8265\	382.0616\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Av\	1852.564\	633.9072\	96\	270\		/12\		False\			null\			null\		True\			1\			3\		True\			5\			3\		True\			7\			3\		True\			9\			3\		True\			11\			3\		True\			13\			3\		True\			14\			3\		True\			15\			3\		True\			16\			3\		True\			17\			3\		False\			null\			null\	Add\	1219.231\	-666.0927\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			18\			2\		False\			null\			null\	CameraInput\	1401.313\	-526.9272\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			6\			0\	Add\	1224.231\	-487.7613\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			19\			2\		False\			null\			null\	CameraInput\	1397.98\	-311.9307\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			8\			0\	Add\	1227.564\	-317.7642\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			20\			2\		False\			null\			null\	CameraInput\	1399.647\	-83.59527\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			10\			0\	Add\	1245.898\	-141.0953\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			21\			2\		False\			null\			null\	CameraInput\	1391.314\	104.7386\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			12\			0\	Add\	1212.564\	103.905\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			22\			2\		False\			null\			null\	CameraInput\	1397.98\	308.0726\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			28\			0\	CameraInput\	1396.314\	488.074\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			29\			0\	CameraInput\	1392.98\	706.4066\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			30\			0\	CameraInput\	1369.647\	929.7413\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			31\			0\	CameraInput\	1376.314\	1138.077\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			32\			0\	Value2\	844.5913\	-632.6087\	96\	90\		/0.005\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	953.4403\	-435.7637\	96\	90\		/0.01\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	1003.44\	-247.0137\	96\	90\		/0.015\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	959.6903\	-123.2637\	96\	90\		/0.02\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	964.6903\	64.23714\	96\	90\		/0.025\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	1005.94\	306.7376\	96\	90\		/0.005\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	1033.44\	562.9874\	96\	90\		/0.01\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	979.6908\	752.9871\	96\	90\		/0.015\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	945.9403\	930.4867\	96\	90\		/0.02\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Value2\	947.1903\	1099.236\	96\	90\		/0.025\		/0.0\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Sub\	1218.027\	390.056\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			23\			2\		False\			null\			null\	Sub\	1235.027\	548.556\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			24\			2\		False\			null\			null\	Sub\	1223.027\	765.5555\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			25\			2\		False\			null\			null\	Sub\	1208.027\	1014.555\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			26\			2\		False\			null\			null\	Sub\	1186.027\	1225.555\	96\	110\		/4\		False\			null\			null\		True\			2\			2\		True\			27\			2\		False\			null\			null
//\	CameraOutput\	1193.191\	319.1905\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			4\			0\	CameraInput\	627.4765\	86.3333\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			2\			2\	StereoUV\	427.4764\	86.3333\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	TempTex\	409.0835\	355.0238\	96\	190\		/tempRT1\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			2\			2\	Add\	906.607\	129.6429\	96\	110\		/4\		False\			null\			null\		True\			1\			3\		True\			5\			0\		False\			null\			null\	Mul\	799.464\	341.0714\	96\	110\		/4\		False\			null\			null\		True\			3\			3\		True\			6\			0\		False\			null\			null\	_FloatSlider\	623.75\	465.3571\	96\	50\		/Intensity\		/1\		/1037\		False\			null\			null

Shader "PPU/HorizontalBloom" {

	HLSLINCLUDE

			#include "Packages/com.unity.postprocessing/PostProcessing/Shaders/StdLib.hlsl"

			TEXTURE2D_SAMPLER2D(_MainTex, sampler_MainTex);
			uniform half _Intensity;
			uniform half _Threshold;
			uniform half _Quality;
			TEXTURE2D_SAMPLER2D(_tempRT1, sampler_tempRT1);

			half3 Frag0 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = (((SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).x + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).y + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).z) / 3.0) > _Threshold ? SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz : 0.0);
				return CameraOutput;
			}

			half3 Frag1 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = ((SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo + half2(0.005, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo + half2(0.01, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo + half2(0.015, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo + half2(0.02, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo + half2(0.025, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo - half2(0.005, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo - half2(0.01, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo - half2(0.015, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo - half2(0.02, 0.0))).xyz + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, (i.texcoordStereo - half2(0.025, 0.0))).xyz) / 10.0);
				return CameraOutput;
			}

			half3 Frag2 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = (SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz + (SAMPLE_TEXTURE2D(_tempRT1, sampler_tempRT1, i.texcoordStereo) * _Intensity));
				return CameraOutput;
			}

	ENDHLSL

	SubShader {

		Cull Off ZWrite Off ZTest Always

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag0

			ENDHLSL
		}

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag1

			ENDHLSL
		}

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag2

			ENDHLSL
		}
	}
}