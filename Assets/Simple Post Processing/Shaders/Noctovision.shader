//{"Values":["0","PPU/Noctovision","_MainTex","0",""]}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"FloatSlider","selected":false,"Values":["Green","Green intensity","0.75","0","1"],"unique":2597}|{"position":{"serializedVersion":"2","x":0.0,"y":0.0,"width":212.0,"height":109.0},"name":"FloatSlider","selected":false,"Values":["Noise","Noise intenisty","0.5","0","1"],"unique":-1}|{"tempTextures":1,"passes":[{"position":{"serializedVersion":"2","x":0.0,"y":36.0,"width":212.0,"height":16.0},"Input":0,"Output":1,"Pass":0,"Iterations":1,"Variable":0},{"position":{"serializedVersion":"2","x":0.0,"y":72.0,"width":212.0,"height":16.0},"Input":1,"Output":0,"Pass":1,"Iterations":1,"Variable":0}],"passOptions":["0","1"],"inputOptions":["Game","tempRT0"],"outputOptions":["Screen","tempRT0"],"variableOptions":["None"]}
//\	CameraOutput\	1595.323\	84.57205\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			5\			0\	CameraInput\	433.498\	124.8299\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			2\			2\	StereoUV\	258.0847\	156.9567\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Pow\	1135.438\	131.5904\	96\	90\		False\			null\			null\		True\			8\			0\		True\			4\			0\	Value1\	958.771\	286.729\	96\	50\		/2.0\		False\			null\			null\	Lerp\	1484.345\	371.1826\	96\	110\		False\			null\			null\		True\			1\			3\		True\			10\			0\		True\			6\			0\	_FloatSlider\	1229.822\	488.0874\	96\	50\		/Green\		/1\		/2597\		False\			null\			null\	Av\	856\	91.50003\	96\	130\		/5\		False\			null\			null\		True\			9\			0\		True\			9\			1\		True\			9\			2\		False\			null\			null\	Mul\	993.5\	129\	96\	110\		/4\		False\			null\			null\		True\			7\			0\		True\			4\			0\		False\			null\			null\	Detach3\	651\	92\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			1\			3\	Append3\	1335\	148\	96\	110\		False\			null\			null\		False\			null\			null\		True\			3\			0\		False\			null\			null
//\	CameraOutput\	2177.526\	-37.53979\	96\	110\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			19\			0\	CameraInput\	1521.661\	-8.333344\	96\	170\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		True\			2\			2\	StereoUV\	480.591\	97.55939\	96\	90\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Mul\	1814.2\	127.8568\	96\	110\		/4\		False\			null\			null\		True\			1\			3\		True\			4\			0\		False\			null\			null\	Sin\	1596.9\	232.9363\	96\	70\		False\			null\			null\		True\			5\			0\	Mul\	1416.582\	192.6187\	96\	150\		/6\		False\			null\			null\		True\			10\			0\		True\			9\			0\		True\			6\			0\		True\			11\			0\		False\			null\			null\	Add\	1186.643\	231.9836\	96\	150\		/6\		False\			null\			null\		True\			7\			0\		True\			8\			0\		True\			12\			0\		True\			12\			1\		False\			null\			null\	Sin\	965.1141\	200.756\	96\	70\		False\			null\			null\		True\			2\			0\	Sin\	961.3643\	299.506\	96\	70\		False\			null\			null\		True\			13\			0\	Sub\	1169.738\	381.925\	96\	150\		/6\		False\			null\			null\		True\			7\			0\		True\			8\			0\		True\			12\			0\		True\			12\			1\		False\			null\			null\	Value1\	1188.608\	157.8777\	96\	50\		/512.0\		False\			null\			null\	Div\	1358.548\	464.1875\	96\	130\		/5\		False\			null\			null\		True\			7\			0\		True\			8\			0\		True\			12\			0\		False\			null\			null\	Screen\	842.8334\	383.83\	96\	130\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Mul\	690.1184\	233.8656\	96\	130\		/5\		False\			null\			null\		True\			2\			1\		True\			14\			0\		True\			17\			0\		False\			null\			null\	Value1\	458.69\	256.7228\	96\	50\		/4096.0\		False\			null\			null\	Abs\	430.118\	423.866\	96\	70\		False\			null\			null\		True\			16\			3\	SinTime\	251.547\	322.437\	96\	130\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\		False\			null\			null\	Add\	618.6899\	401.0085\	96\	110\		/4\		False\			null\			null\		True\			15\			0\		True\			18\			0\		False\			null\			null\	Value1\	422.9755\	332.437\	96\	50\		/1.0\		False\			null\			null\	Lerp\	1986.404\	-16.90816\	96\	110\		False\			null\			null\		True\			1\			3\		True\			3\			0\		True\			20\			0\	_FloatSlider\	1764.028\	-7.226395\	96\	50\		/Noise\		/2\		/-1\		False\			null\			null

Shader "PPU/Noctovision" {

	HLSLINCLUDE

			#include "Packages/com.unity.postprocessing/PostProcessing/Shaders/StdLib.hlsl"

			TEXTURE2D_SAMPLER2D(_MainTex, sampler_MainTex);
			uniform half _Green;
			uniform half _Noise;

			half3 Frag0 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = lerp(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz, half3(0.0, pow((((SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz.x + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz.y + SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz.z) / 3.0) * 2.0), 2.0), 0.0), _Green);
				return CameraOutput;
			}

			half3 Frag1 (VaryingsDefault i) : SV_Target {
				half3 CameraOutput = 0.0;
				CameraOutput = lerp(SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz, (SAMPLE_TEXTURE2D(_MainTex, sampler_MainTex, i.texcoordStereo).xyz * sin((512.0 * (sin(i.texcoordStereo.x) - sin((i.texcoordStereo.y * 4096.0 * (abs(_SinTime.w) + 1.0))) - _ScreenParams.x - _ScreenParams.y) * (sin(i.texcoordStereo.x) + sin((i.texcoordStereo.y * 4096.0 * (abs(_SinTime.w) + 1.0))) + _ScreenParams.x + _ScreenParams.y) * (sin(i.texcoordStereo.x) / sin((i.texcoordStereo.y * 4096.0 * (abs(_SinTime.w) + 1.0))) / _ScreenParams.x)))), _Noise);
				return CameraOutput;
			}

	ENDHLSL

	SubShader {

		Cull Off ZWrite Off ZTest Always

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag0

			ENDHLSL
		}

		Pass {

			HLSLPROGRAM

				#pragma vertex VertDefault
				#pragma fragment Frag1

			ENDHLSL
		}
	}
}